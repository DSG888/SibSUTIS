;WindowsConA.inc - включаемый файл для консольных приложений 
;		(аналог windows.h в С) содержащий 
;		описание необходимых в программе на ассемблере 
;		структур и констант Windows
;-----------------------------------------------------------------
FALSE	equ	0
TRUE	equ	1

NULL	equ	0
ULONG	equ	<dd>
POINT	struc
x	ULONG	0
y	ULONG	0
	ends
GENERIC_READ	equ	80000000h
GENERIC_WRITE	equ	40000000h

OPEN_EXISTING	equ	3
OPEN_ALWAYS	equ	4

FILE_ATTRIBUTE_NORMAL	equ	00000080h
FILE_ATTRIBUTE_READONLY	equ	00000001h

FILE_SHARE_READ	equ	00000001h

FILETIME	struc
dwLowDateTime	dd	0  
dwHighDateTime	dd	0
	ends

_BY_HANDLE_FILE_INFORMATION struc
dwFileAttributes	dd	0
ftCreationTime	FILETIME	<>
;FILETIME	struc	{}
ftLastAccessTime	FILETIME	<>
;FILETIME ftLastAccessTime; 
;FILETIME	struc	{}
ftLastWriteTime	FILETIME	<>
;FILETIME ftLastWriteTime; 
dwVolumeSerialNumber	dd	0     
nFileSizeHigh	dd	0 
nFileSizeLow	dd	0 
nNumberOfLinks	dd	0     
nFileIndexHigh	dd	0 
nFileIndexLow	dd	0     
ends

PAGE_WRITECOPY	equ	08h	;winnt.h
PAGE_READWRITE	equ	04h


SECTION_QUERY	equ	0001h	;winbase.h
SECTION_MAP_WRITE	equ	0002h

FILE_MAP_COPY	equ	SECTION_QUERY

FILE_MAP_WRITE	equ	SECTION_MAP_WRITE


;winnt.h
SECTION_QUERY	equ	0001h
SECTION_MAP_WRITE	equ	0002h
SECTION_MAP_READ	equ	0004h
SECTION_MAP_EXECUTE	equ	0008h
SECTION_EXTEND_SIZE	equ	0010h


STANDARD_RIGHTS_REQUIRED	equ	000F0000h
SECTION_QUERY	equ	0001h
SECTION_ALL_ACCESS	equ	STANDARD_RIGHTS_REQUIRED+SECTION_QUERY+SECTION_MAP_WRITE+SECTION_MAP_READ+SECTION_MAP_EXECUTE+SECTION_EXTEND_SIZE

FileMapAllAccess	equ	 SECTION_ALL_ACCESS


STD_INPUT_HANDLE	equ	-10	;winbase.h
STD_OUTPUT_HANDLE	equ	-11
STD_ERROR_HANDLE      equ	-12
;Режимы и флаги доступа к файлам (из winnt.h, winbase.h)

GENERIC_READ	=80000000h
GENERIC_WRITE	=40000000h

FILE_SHARE_READ	=00000001h
FILE_SHARE_WRITE	=00000002h

CREATE_NEW=1
CREATE_ALWAYS=2
OPEN_EXISTING=3
OPEN_ALWAYS=4
TRUNCATE_EXISTING=5

FILE_ATTRIBUTE_READONLY=00000001h
FILE_ATTRIBUTE_HIDDEN=00000002h
FILE_ATTRIBUTE_SYSTEM=00000004h
FILE_ATTRIBUTE_DIRECTORY=00000010h
FILE_ATTRIBUTE_ARCHIVE=00000020h
FILE_ATTRIBUTE_NORMAL=00000080h  
FILE_ATTRIBUTE_TEMPORARY=00000100h  
FILE_ATTRIBUTE_COMPRESSED=00000800h  

FILE_FLAG_WRITE_THROUGH=80000000h
FILE_FLAG_OVERLAPPED=40000000h
FILE_FLAG_NO_BUFFERING=20000000h
FILE_FLAG_RANDOM_ACCESS=10000000h
FILE_FLAG_SEQUENTIAL_SCAN=08000000h
FILE_FLAG_DELETE_ON_CLOSE=04000000h
FILE_FLAG_BACKUP_SEMANTICS=02000000h
FILE_FLAG_POSIX_SEMANTICS=01000000h

MOVEFILE_REPLACE_EXISTING=00000001h
MOVEFILE_COPY_ALLOWED=00000002h
MOVEFILE_DELAY_UNTIL_REBOOT=00000004h
MOVEFILE_WRITE_THROUGH=00000008h

FILE_BEGIN=0
FILE_CURRENT=1
FILE_END=2

FILE_CASE_SENSITIVE_SEARCH=00000001h  
FILE_CASE_PRESERVED_NAMES=00000002h  
FILE_UNICODE_ON_DISK=00000004h  
FILE_PERSISTENT_ACLS=00000008h  
FILE_FILE_COMPRESSION=00000010h  
FILE_VOLUME_IS_COMPRESSED=00008000h 

FS_CASE_IS_PRESERVED=FILE_CASE_PRESERVED_NAMES
FS_CASE_SENSITIVE=FILE_CASE_SENSITIVE_SEARCH
FS_UNICODE_STORED_ON_DISK=FILE_UNICODE_ON_DISK
FS_PERSISTENT_ACLS=FILE_PERSISTENT_ACLS
FS_VOL_IS_COMPRESSED=FILE_VOLUME_IS_COMPRESSED
FS_FILE_COMPRESSION=FILE_FILE_COMPRESSION

SECURITY_ATTRIBUTES struc
nLength dd	0
lpSecurityDescriptor	dd	0
bInheritHandle	dd	0
	ends

PAGE_READONLY=02     
PAGE_READWRITE=04     
PAGE_WRITECOPY=08     

STANDARD_RIGHTS_REQUIRED=000F0000h
SECTION_MAP_EXECUTE=0008h
SECTION_EXTEND_SIZE=0010h


SECTION_QUERY=01
SECTION_MAP_WRITE=02
SECTION_MAP_READ=04
SECTION_ALL_ACCESS=STANDARD_RIGHTS_REQUIRED+SECTION_QUERY+SECTION_MAP_WRITE+SECTION_MAP_READ+SECTION_MAP_EXECUTE+SECTION_EXTEND_SIZE



;FILE_MAP_COPY=SECTION_QUERY
;FILE_MAP_WRITE=SECTION_MAP_WRITE
FILE_MAP_READ=SECTION_MAP_READ
FILE_MAP_ALL_ACCESS=SECTION_ALL_ACCESS


;из wincon.h
CTRL_C_EVENT=0
CTRL_BREAK_EVENT=1
CTRL_CLOSE_EVENT=2
;// 3 is reserved!
;// 4 is reserved!
CTRL_LOGOFF_EVENT=5
CTRL_SHUTDOWN_EVENT=6

;из wincon.h
FOREGROUND_BLUE=0001h	;text color contains blue.
FOREGROUND_GREEN=0002h	;text color contains green.
FOREGROUND_RED=0004h	;text color contains red.
FOREGROUND_INTENSITY=0008h	;text color is intensified.
BACKGROUND_BLUE=0010h	;background color contains blue.
BACKGROUND_GREEN=0020h	;background color contains green.
BACKGROUND_RED=0040h	;background color contains red.
BACKGROUND_INTENSITY=0080h	;background color is intensified.

;из wincon.h
KEY_EVENT=0001h	;// Event contains key event record
MOUSE_EVENT=0002h	;// Event contains mouse event record
WINDOW_BUFFER_SIZE_EVENT=0004h	;// Event contains window change event record
MENU_EVENT=0008h	;// Event contains menu event record
FOCUS_EVENT=0010h	;// event contains focus change

;из wincon.h
RIGHT_ALT_PRESSED=0001h	;// the right alt key is pressed.
LEFT_ALT_PRESSED=0002h	;// the left alt key is pressed.
RIGHT_CTRL_PRESSED=0004h	;// the right ctrl key is pressed.
LEFT_CTRL_PRESSED=0008h	;// the left ctrl key is pressed.
SHIFT_PRESSED=0010h	;// the shift key is pressed.
NUMLOCK_ON=0020h	;// the numlock light is on.
SCROLLLOCK_ON=0040h	;// the scrolllock light is on.
CAPSLOCK_ON=0080h	;// the capslock light is on.
ENHANCED_KEY=0100h	;// the key is enhanced.

;из wincon.h
MOUSE_MOVED=0001h
DOUBLE_CLICK=0002h

;из winnt.h
DLL_PROCESS_ATTACH=1    
DLL_THREAD_ATTACH =2    
DLL_THREAD_DETACH =3    
DLL_PROCESS_DETACH=0    

; #########################################################################

MSG	struc
meshwnd	HWiND	0
mes	UINT	?
lParam 	UINT	?
wParam 	UINT	?
time	dd	0
POINT	struc	{}
	ends

WNDCLASSEX	struc
cbSize	UINT	0
style	UINT	?
lpfnWndProc	WNDPROC	?
cbClsExtra	UINT	?
cbWndExtra 	UINT	?
hInstance	HANDLE	?
hIcon	UINT	?
hCursor	UINT	?
hbrBackground	UINT	?
lpszMenuName	ULONG	0	;по умолчанию без меню
lpszClassName	ULONG	?
hIconSm	UINT	0
	ends
